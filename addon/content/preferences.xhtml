<linkset>
  <html:link rel="localization" href="__addonRef__-preferences.ftl" />
</linkset>
<groupbox
  onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', { window });"
>
  <label><html:h2 data-l10n-id="pref-title"></html:h2></label>
  <vbox>
    <hbox align="center">
      <label data-l10n-id="pref-provider" flex="1"></label>
      <menulist id="zotero-prefpane-__addonRef__-provider" flex="2">
        <menupopup>
          <menuitem value="openai" data-l10n-id="pref-provider-openai" />
          <menuitem value="gemini" data-l10n-id="pref-provider-gemini" />
          <menuitem value="minimax" data-l10n-id="pref-provider-minimax" />
          <menuitem value="moonshot" data-l10n-id="pref-provider-moonshot" />
          <menuitem value="zhipu" data-l10n-id="pref-provider-zhipu" />
          <menuitem value="deepseek" data-l10n-id="pref-provider-deepseek" />
          <menuitem value="qwen" data-l10n-id="pref-provider-qwen" />
          <menuitem value="custom" data-l10n-id="pref-provider-custom" />
        </menupopup>
      </menulist>
    </hbox>
    <hbox align="center">
      <label data-l10n-id="pref-api-key" flex="1"></label>
      <html:input
        type="password"
        id="zotero-prefpane-__addonRef__-api-key"
        flex="2"
      />
    </hbox>
    <hbox align="center">
      <label data-l10n-id="pref-base-url" flex="1"></label>
      <html:input
        type="text"
        id="zotero-prefpane-__addonRef__-base-url"
        flex="2"
      />
    </hbox>
    <hbox align="center">
      <label data-l10n-id="pref-model" flex="1"></label>
      <html:input
        type="text"
        id="zotero-prefpane-__addonRef__-model"
        flex="2"
      />
    </hbox>
    <hbox align="center">
      <label data-l10n-id="pref-timeout" flex="1"></label>
      <html:input
        type="number"
        id="zotero-prefpane-__addonRef__-timeout"
        flex="2"
        min="1"
      />
    </hbox>
    <hbox align="center">
      <label data-l10n-id="pref-max-tokens" flex="1"></label>
      <html:input
        type="number"
        id="zotero-prefpane-__addonRef__-max-tokens"
        flex="2"
        min="0"
      />
    </hbox>
    <hbox align="center">
      <label data-l10n-id="pref-temperature" flex="1"></label>
      <html:input
        type="number"
        id="zotero-prefpane-__addonRef__-temperature"
        flex="2"
        step="0.1"
        min="0"
        max="2"
      />
    </hbox>
    <hbox align="center">
      <label data-l10n-id="pref-scope" flex="1"></label>
      <radiogroup id="zotero-prefpane-__addonRef__-scope" flex="2" orient="horizontal">
        <radio value="full" data-l10n-id="pref-scope-full" />
        <radio value="highlights" data-l10n-id="pref-scope-highlights" />
        <radio value="meta" data-l10n-id="pref-scope-meta" />
      </radiogroup>
    </hbox>
    <checkbox
      id="zotero-prefpane-__addonRef__-stream"
      data-l10n-id="pref-stream"
    />
    <checkbox
      id="zotero-prefpane-__addonRef__-log"
      data-l10n-id="pref-log"
    />
    <vbox>
      <html:label data-l10n-id="pref-prompt-rich"></html:label>
      <html:textarea
        id="zotero-prefpane-__addonRef__-prompt-rich"
        rows="4"
        flex="1"
      ></html:textarea>
    </vbox>
    <vbox>
      <html:label data-l10n-id="pref-prompt-plain"></html:label>
      <html:textarea
        id="zotero-prefpane-__addonRef__-prompt-plain"
        rows="4"
        flex="1"
      ></html:textarea>
    </vbox>
    <hbox align="center">
      <spacer flex="1" />
      <button id="zotero-prefpane-__addonRef__-test" data-l10n-id="pref-test" />
    </hbox>
  </vbox>
</groupbox>
<vbox>
  <html:label
    data-l10n-id="pref-help"
    data-l10n-args='{"time": "__buildTime__","name": "__addonName__","version":"__buildVersion__"}'
  ></html:label>
</vbox>
